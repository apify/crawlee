<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-typedoc-api plugin-id-default api-version-3.4 docs-doc-page" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.0.1">
<title data-rh="true">@crawlee/browser-pool | API | Crawlee</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://crawlee.dev/img/crawlee-og.png"><meta data-rh="true" name="twitter:image" content="https://crawlee.dev/img/crawlee-og.png"><meta data-rh="true" property="og:url" content="https://crawlee.dev/api/3.4/browser-pool"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="3.4"><meta data-rh="true" name="docusaurus_tag" content="docs-default-3.4"><meta data-rh="true" name="docsearch:version" content="3.4"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-3.4"><meta data-rh="true" property="og:title" content="@crawlee/browser-pool | API | Crawlee"><meta data-rh="true" name="description" content="The `browser-pool` module exports three constructors. One for `BrowserPool`
itself and two for the included Puppeteer and Playwright plugins.

**Example:**
```js
import {
 BrowserPool,
 PuppeteerPlugin,
 PlaywrightPlugin
} from &#x27;@crawlee/browser-pool&#x27;;
import puppeteer from &#x27;puppeteer&#x27;;
import playwright from &#x27;playwright&#x27;;

const browserPool = new BrowserPool({
    browserPlugins: [
        new PuppeteerPlugin(puppeteer),
        new PlaywrightPlugin(playwright.chromium),
    ]
});
```"><meta data-rh="true" property="og:description" content="The `browser-pool` module exports three constructors. One for `BrowserPool`
itself and two for the included Puppeteer and Playwright plugins.

**Example:**
```js
import {
 BrowserPool,
 PuppeteerPlugin,
 PlaywrightPlugin
} from &#x27;@crawlee/browser-pool&#x27;;
import puppeteer from &#x27;puppeteer&#x27;;
import playwright from &#x27;playwright&#x27;;

const browserPool = new BrowserPool({
    browserPlugins: [
        new PuppeteerPlugin(puppeteer),
        new PlaywrightPlugin(playwright.chromium),
    ]
});
```"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://crawlee.dev/api/3.4/browser-pool"><link data-rh="true" rel="alternate" href="https://crawlee.dev/api/3.4/browser-pool" hreflang="en"><link data-rh="true" rel="alternate" href="https://crawlee.dev/api/3.4/browser-pool" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://5JC94MPMLY-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="Crawlee" href="/opensearch.xml">


<!-- Google Tag Manager -->
    <script>!function(e,t,a,n,g){e[n]=e[n]||[],e[n].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var m=t.getElementsByTagName(a)[0],r=t.createElement(a);r.async=!0,r.src="https://www.googletagmanager.com/gtm.js?id=GTM-5P7MCS7",m.parentNode.insertBefore(r,m)}(window,document,"script","dataLayer")</script>
    <!-- End Google Tag Manager -->

<script src="/js/custom.js"></script><link rel="stylesheet" href="/assets/css/styles.2e59cc1b.css">
<script src="/assets/js/runtime~main.62b8ce99.js" defer="defer"></script>
<script src="/assets/js/main.d2a0cb67.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/crawlee-light.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/crawlee-dark.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Crawlee</b></a><a class="navbar__item navbar__link" href="/docs/quick-start">Docs</a><a class="navbar__item navbar__link" href="/docs/examples">Examples</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api/core">API</a><a class="navbar__item navbar__link changelog" href="/api/core/changelog">Changelog</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" href="/docs/quick-start">3.7</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/next/quick-start">Next</a></li><li><a class="dropdown__link" href="/docs/quick-start">3.7</a></li><li><a class="dropdown__link" href="/docs/3.6/quick-start">3.6</a></li><li><a class="dropdown__link" href="/docs/3.5/quick-start">3.5</a></li><li><a class="dropdown__link" href="/docs/3.4/quick-start">3.4</a></li><li><a class="dropdown__link" href="/docs/3.3/quick-start">3.3</a></li><li><a class="dropdown__link" href="/docs/3.2/quick-start">3.2</a></li><li><a class="dropdown__link" href="/docs/3.1/quick-start">3.1</a></li><li><a class="dropdown__link" href="/docs/3.0/quick-start">3.0</a></li><li><a href="https://sdk.apify.com/docs/guides/getting-started" target="_blank" rel="noopener noreferrer" class="dropdown__link">2.2<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li><a href="https://sdk.apify.com/docs/1.3.1/guides/getting-started" target="_blank" rel="noopener noreferrer" class="dropdown__link">1.3<svg width="12" height="12" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="navbar__items navbar__items--right"><div class="toggle_MW0i colorModeToggle_x44X"><button class="clean-btn toggleButton_yw5v toggleButtonDisabled_BJd7" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><span><svg viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg" width="14" height="14" class="lightToggleIcon_SFTY"><g clip-path="url(#clip0_833_8168)"><path d="M6.59998 8.49999C7.98069 8.49999 9.09998 7.3807 9.09998 5.99999C9.09998 4.61928 7.98069 3.49999 6.59998 3.49999C5.21926 3.49999 4.09998 4.61928 4.09998 5.99999C4.09998 7.3807 5.21926 8.49999 6.59998 8.49999Z" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 0.5V1.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M6.59985 10.5V11.5" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 2.11L3.4199 2.82" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 9.17999L10.4899 9.88999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M1.09998 6H2.09998" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M11.0999 6H12.0999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M2.7099 9.88999L3.4199 9.17999" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path><path d="M9.77991 2.82L10.4899 2.11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"></path></g><defs><clipPath id="clip0_833_8168"><rect width="12" height="12" fill="white" transform="translate(0.599976)"></rect></clipPath></defs></svg><svg viewBox="0 0 13 12" width="14" height="14" class="darkToggleIcon_ekgs"><path d="M10.7001 6.39501C10.6215 7.24611 10.3021 8.05721 9.77927 8.7334C9.25646 9.40959 8.55189 9.92291 7.748 10.2133C6.9441 10.5036 6.07414 10.5591 5.2399 10.3731C4.40565 10.187 3.64164 9.76728 3.03726 9.1629C2.43287 8.55851 2.01312 7.7945 1.8271 6.96026C1.64108 6.12602 1.6965 5.25605 1.98688 4.45216C2.27725 3.64826 2.79056 2.94369 3.46675 2.42088C4.14294 1.89808 4.95404 1.57866 5.80515 1.50001C5.30685 2.17414 5.06707 3.00473 5.12941 3.84071C5.19175 4.6767 5.55208 5.46254 6.14485 6.05531C6.73762 6.64808 7.52346 7.0084 8.35944 7.07074C9.19542 7.13308 10.026 6.8933 10.7001 6.39501Z" stroke="currentColor" fill="transparent" stroke-linecap="round" stroke-linejoin="round"></path></svg></span></button></div><a href="https://github.com/apify/crawlee" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="View on GitHub">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link icon" title="Chat on Discord">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="apiPage"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/img/crawlee-light.svg" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/crawlee-dark.svg" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"><b>Crawlee</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/core">@crawlee/core</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/cheerio-crawler">@crawlee/cheerio</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/playwright-crawler">@crawlee/playwright</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/puppeteer-crawler">@crawlee/puppeteer</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/jsdom-crawler">@crawlee/jsdom</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/basic-crawler">@crawlee/basic</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/http-crawler">@crawlee/http</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/browser-crawler">@crawlee/browser</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/memory-storage">@crawlee/memory-storage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/api/3.4/browser-pool">@crawlee/browser-pool</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/api/3.4/browser-pool">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/api/3.4/browser-pool/class/BrowserController">Classes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/api/3.4/browser-pool/enum/BROWSER_CONTROLLER_EVENTS">Enumerations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/api/3.4/browser-pool/interface/BrowserControllerEvents">Interfaces</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/api/3.4/browser-pool#InferBrowserPluginArray">Type Aliases</a></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/api/3.4/browser-pool/changelog">Changelog</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/utils">@crawlee/utils</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/api/3.4/types">@crawlee/types</a></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col apiItemCol"><div class="theme-doc-version-banner alert alert--warning margin-bottom--md" role="alert"><div>This is documentation for version <b>3.4</b>.<!-- --> <!-- -->For the latest API, see version<!-- --> <b><a href="/api">3.7</a></b>.</div></div><div class="apiItemContainer"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">@crawlee/browser-pool</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Overview</span><meta itemprop="position" content="2"></li></ul></nav><span class="theme-doc-version-badge badge badge--secondary">Version: 3.4</span><div class="tocCollapsible_ETCw theme-doc-toc-mobile apiTocMobile"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1><span class="tsd-header-flags"></span>@crawlee/browser-pool<!-- --> </h1></header><section class="tsd-readme"><p>Browser Pool is a small, but powerful and extensible library, that allows you to seamlessly
control multiple headless browsers at the same time with only a little configuration, and a
single function call. Currently, it supports <a href="https://github.com/puppeteer/puppeteer" target="_blank" rel="noopener noreferrer">Puppeteer</a>,
<a href="https://github.com/microsoft/playwright" target="_blank" rel="noopener noreferrer">Playwright</a>, and it can be easily extended with plugins.</p>
<p>We created Browser Pool because we regularly needed to execute tasks concurrently in many
headless browsers and their pages, but we did not want to worry about launching browsers, closing
browsers, restarting them after crashes and so on. We also wanted to easily and reliably manage
the whole browser / page lifecycle.</p>
<p>You can use Browser Pool for scraping the internet at scale, testing your website
in multiple browsers at the same time or launching web automation robots.</p>
<ul>
<li><a href="#installation">Installation</a></li>
<li><a href="#usage">Usage</a></li>
<li><a href="#launching-multiple-browsers">Launching multiple browsers</a></li>
<li><a href="#features">Features</a>
<ul>
<li><a href="#simple-configuration">Simple configuration</a></li>
<li><a href="#proxy-management">Proxy management</a></li>
<li><a href="#lifecycle-management-with-hooks">Lifecycle management with hooks</a></li>
<li><a href="#manipulating-playwright-context-using-pageoptions-or-launchoptions">Manipulating playwright context using <code>pageOptions</code> or <code>launchOptions</code></a></li>
<li><a href="#single-api-for-common-operations">Single API for common operations</a></li>
<li><a href="#graceful-browser-closing">Graceful browser closing</a></li>
<li><a href="#changing-browser-fingerprints-aka-browser-signatures">Changing browser fingerprints a.k.a. browser signatures</a></li>
<li><a href="#unstable-extensibility-with-plugins">(UNSTABLE) Extensibility with plugins</a></li>
</ul>
</li>
<li><a href="#api-reference">API Reference</a></li>
</ul>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="installation">Installation<a href="#installation" class="hash-link" aria-label="Direct link to Installation" title="Direct link to Installation">​</a></h2>
<p>Use NPM or Yarn to install <code>@crawlee/browser-pool</code>. Note that <code>@crawlee/browser-pool</code> does not come preinstalled
with browser automation libraries. This allows you to choose your own libraries and their
versions, and it also makes <code>@crawlee/browser-pool</code> much smaller.</p>
<p>Run this command to install <code>@crawlee/browser-pool</code> and the <code>playwright</code> browser automation library.</p>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">npm</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">install</span><span class="token plain"> @crawlee/browser-pool playwright</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="usage">Usage<a href="#usage" class="hash-link" aria-label="Direct link to Usage" title="Direct link to Usage">​</a></h2>
<p>This simple example shows how to open a page in a browser using Browser Pool.
We use the provided <code>PlaywrightPlugin</code> to wrap a Playwright installation of
your own. By calling <code>browserPool.newPage()</code> you launch a new Firefox browser
and open a new page in that browser.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// An asynchronous IIFE (immediately invoked function expression)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// allows us to use the &#x27;await&#x27; keyword.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Launches Chromium with Playwright and returns a Playwright Page.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// You can interact with the page as you&#x27;re used to.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">goto</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;https://example.com&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// When you&#x27;re done, close the page.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page1</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Opens a second page in the same browser.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// When everything&#x27;s finished, tear down the pool.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">destroy</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>Browser Pool uses the same asynchronous API as the underlying automation libraries which means
extensive use of Promises and the <code>async</code> / <code>await</code> pattern. <a href="https://developer.mozilla.org/en-US/docs/Learn/JavaScript/Asynchronous/Async_await" target="_blank" rel="noopener noreferrer">Visit MDN to learn more</a>.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="launching-multiple-browsers">Launching multiple browsers<a href="#launching-multiple-browsers" class="hash-link" aria-label="Direct link to Launching multiple browsers" title="Direct link to Launching multiple browsers">​</a></h2>
<p>The basic example shows how to launch a single browser, but the purpose
of Browser Pool is to launch many browsers. This is done automatically
in the background. You only need to provide the relevant plugins and call
<code>browserPool.newPage()</code>.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">firefox</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webkit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Open 4 pages in 3 browsers. The browsers are launched</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// in a round-robin fashion based on the plugin order.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chromiumPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> firefoxPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> webkitPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> chromiumPage2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Don&#x27;t forget to close pages / destroy pool when you&#x27;re done.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>This round-robin way of opening pages may not be useful for you,
if you need to consistently run tasks in multiple environments.
For that, there&#x27;s the <code>newPageWithEachPlugin</code> function.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PuppeteerPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">puppeteer</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;puppeteer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PuppeteerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">puppeteer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPageWithEachPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> promises </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pages</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">map</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token parameter">page</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// Run some task with each page</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// pages are in order of plugins:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// [playwrightPage, puppeteerPage]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">close</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> </span><span class="token known-class-name class-name">Promise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">all</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">promises</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Continue with some more work.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="features">Features<a href="#features" class="hash-link" aria-label="Direct link to Features" title="Direct link to Features">​</a></h2>
<p>Besides a simple interface for launching browsers, Browser Pool includes
other helpful features that make browser management more convenient.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="simple-configuration">Simple configuration<a href="#simple-configuration" class="hash-link" aria-label="Direct link to Simple configuration" title="Direct link to Simple configuration">​</a></h3>
<p>You can easily set the maximum number of pages that can be open in a given
browser and also the maximum number of pages to process before a browser
<a href="#graceful-browser-closing">is retired</a>.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">maxOpenPagesPerBrowser</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">retireBrowserAfterPageCount</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>You can configure the browser launch options either right in the plugins:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> playwrightPlugin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">launchOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">headless</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>Or dynamically in <a href="#lifecycle-management-with-hooks">pre-launch hooks</a>:</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">preLaunchHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> launchContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageId </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;headful&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            launchContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">launchOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headless</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="proxy-management">Proxy management<a href="#proxy-management" class="hash-link" aria-label="Direct link to Proxy management" title="Direct link to Proxy management">​</a></h3>
<p>When scraping at scale or testing websites from multiple geolocations,
one often needs to use proxy servers. Setting up an authenticated proxy
in Puppeteer can be cumbersome, so we created a helper that does all
the heavy lifting for you. Simply provide a proxy URL with authentication
credentials, and you&#x27;re done. It works the same for Playwright too.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> puppeteerPlugin </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PuppeteerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">puppeteer</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">proxyUrl</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://&lt;username&gt;:&lt;password&gt;@proxy.com:8000&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>We plan to extend this by adding a proxy-per-page functionality,
allowing you to rotate proxies per page, rather than per browser.</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="lifecycle-management-with-hooks">Lifecycle management with hooks<a href="#lifecycle-management-with-hooks" class="hash-link" aria-label="Direct link to Lifecycle management with hooks" title="Direct link to Lifecycle management with hooks">​</a></h3>
<p>Browser Pool allows you to manage the full browser / page lifecycle
by attaching hooks to the most important events. Asynchronous hooks
are supported, and their execution order is guaranteed.</p>
<p>The first parameter of each hook is either a <code>pageId</code> for the hooks
executed before a <code>page</code> is created or a <code>page</code> afterwards. This is
useful to keep track of which hook was triggered by which <code>newPage()</code>
call.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">preLaunchHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> launchContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// You can use pre-launch hooks to make dynamic changes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// to the launchContext, such as changing a proxyUrl</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// or updating the browser launchOptions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        pageId </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-page&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postPageCreateHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">page</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// It makes sense to make global changes to pages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// in post-page-create hooks. For example, you can</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// inject some JavaScript library, such as jQuery.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getPageId</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-page&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token literal-property property" style="color:#36acaa">id</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-page&#x27;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<blockquote>
<p>See the API Documentation for all hooks and their arguments.</p>
</blockquote>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="manipulating-playwright-context-using-pageoptions-or-launchoptions">Manipulating playwright context using <code>pageOptions</code> or <code>launchOptions</code><a href="#manipulating-playwright-context-using-pageoptions-or-launchoptions" class="hash-link" aria-label="Direct link to manipulating-playwright-context-using-pageoptions-or-launchoptions" title="Direct link to manipulating-playwright-context-using-pageoptions-or-launchoptions">​</a></h3>
<p>Playwright allows customizing multiple browser attributes by browser context.
You can customize some of them once the context is created, but some need to be customized within its creation.
This part of the documentation should explain how you can effectively customize the browser context.</p>
<p>First of all, let&#x27;s take a look at what kind of context strategy you chose. You can choose between two strategies by <code>useIncognitoPages</code> <code>LaunchContext</code> option.</p>
<p>Suppose you decide to keep <code>useIncognitoPages</code> default <code>false</code> and create a shared context across all pages launched by one browser. In this case,  you should pass the <code>contextOptions</code> as a <code>launchOptions</code> since the context is created within the new browser launch. The <code>launchOptions</code> corresponds to these <a href="https://playwright.dev/docs/api/class-browsertype#browsertypelaunchpersistentcontextuserdatadir-options" target="_blank" rel="noopener noreferrer">playwright options</a>. As you can see, these options contain not only ordinary playwright launch options but also the context options.</p>
<p>If you set <code>useIncognitoPages</code> to <code>true</code>, you will create a new context within each new page, which allows you to handle each page its cookies and application data. This approach allows you to pass the context options as <code>pageOptions</code> because a new context is created once you create a new page. In this case, the <code>pageOptions</code> corresponds to these <a href="https://playwright.dev/docs/api/class-browser#browsernewpageoptions" target="_blank" rel="noopener noreferrer">playwright options</a>.</p>
<p><strong>Changing context options with <code>LaunchContext</code>:</strong></p>
<p>This will only work if you keep the default value for <code>useIncognitoPages</code> (<code>false</code>).</p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">launchOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">deviceScaleFactor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Changing context options with <code>browserPool.newPage</code> options:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">useIncognitoPages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// You must turn on incognito pages.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">launchOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token comment" style="color:#999988;font-style:italic">// launch options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">headless</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">devtools</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Launches Chromium with Playwright and returns a Playwright Page.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token literal-property property" style="color:#36acaa">pageOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// context options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">deviceScaleFactor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">colorScheme</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;light&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token literal-property property" style="color:#36acaa">locale</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;de-DE&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Changing context options with <code>prePageCreateHooks</code> options:</strong></p>
<div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">useIncognitoPages</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token literal-property property" style="color:#36acaa">launchOptions</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token comment" style="color:#999988;font-style:italic">// launch options</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">headless</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token literal-property property" style="color:#36acaa">devtools</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">prePageCreateHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> pageOptions</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pageOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">deviceScaleFactor</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pageOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">colorScheme</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;dark&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            pageOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">locale</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;de-DE&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// You must modify the &#x27;pageOptions&#x27; object, not assign to the variable.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// pageOptions = {deviceScaleFactor: 2, ...etc} =&gt; This will not work!</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// Launches Chromium with Playwright and returns a Playwright Page.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="single-api-for-common-operations">Single API for common operations<a href="#single-api-for-common-operations" class="hash-link" aria-label="Direct link to Single API for common operations" title="Direct link to Single API for common operations">​</a></h3>
<p>Puppeteer and Playwright handle some things differently. Browser Pool
attempts to remove those differences for the most common use-cases.</p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Playwright</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> context</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">addCookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Puppeteer</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">cookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setCookie</span><span class="token punctuation" style="color:#393A34">(</span><span class="token spread operator" style="color:#393A34">...</span><span class="token plain">cookies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// BrowserPool uses the same API for all plugins</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> cookies </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">getCookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">setCookies</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">page</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> cookies</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="graceful-browser-closing">Graceful browser closing<a href="#graceful-browser-closing" class="hash-link" aria-label="Direct link to Graceful browser closing" title="Direct link to Graceful browser closing">​</a></h3>
<p>With Browser Pool, browsers are not closed, but retired. A retired browser
will no longer open new pages, but it will wait until the open pages are closed,
allowing your running tasks to finish. If a browser gets stuck in limbo,
it will be killed after a timeout to prevent hanging browser processes.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="changing-browser-fingerprints-aka-browser-signatures">Changing browser fingerprints a.k.a. browser signatures<a href="#changing-browser-fingerprints-aka-browser-signatures" class="hash-link" aria-label="Direct link to Changing browser fingerprints a.k.a. browser signatures" title="Direct link to Changing browser fingerprints a.k.a. browser signatures">​</a></h3>
<blockquote>
<p>Fingerprints are enabled by default since v3.</p>
</blockquote>
<p>Changing browser fingerprints is beneficial for avoiding getting blocked and simulating real user browsers.
With Browser Pool, you can do this otherwise complicated technique by enabling the <code>useFingerprints</code> option.
The fingerprints are by default tied to the respective proxy urls to not use the same unique fingerprint from various IP addresses.
You can disable this behavior in the <a href="#new_BrowserPool_new"><code>fingerprintOptions</code></a>. In the <code>fingerprintOptions</code>, You can also control which fingerprints are generated.
You can control parameters as browser, operating system, and browser versions.</p>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="unstable-extensibility-with-plugins">(UNSTABLE) Extensibility with plugins<a href="#unstable-extensibility-with-plugins" class="hash-link" aria-label="Direct link to (UNSTABLE) Extensibility with plugins" title="Direct link to (UNSTABLE) Extensibility with plugins">​</a></h3>
<p>A new super cool browser automation library appears? No problem, we add
a simple plugin to Browser Pool, and it automagically works.</p>
<blockquote>
<p>The BrowserPlugin and BrowserController interfaces are unstable and may
change if we find some implementation to be suboptimal.</p>
</blockquote>
<h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="api-reference">API Reference<a href="#api-reference" class="hash-link" aria-label="Direct link to API Reference" title="Direct link to API Reference">​</a></h2>
<p>All public classes, methods and their parameters can be inspected in this API reference.</p>
<a name="module_browser-pool"></a>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="crawleebrowser-pool">@crawlee/browser-pool<a href="#crawleebrowser-pool" class="hash-link" aria-label="Direct link to @crawlee/browser-pool" title="Direct link to @crawlee/browser-pool">​</a></h3>
<p>The <code>@crawlee/browser-pool</code> module exports three constructors. One for <code>BrowserPool</code>
itself and two for the included Puppeteer and Playwright plugins.</p>
<p><strong>Example:</strong></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PuppeteerPlugin</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">puppeteer</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;puppeteer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PuppeteerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">puppeteer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p><strong>Properties</strong></p>
<table><thead><tr><th>Name</th><th>Type</th></tr></thead><tbody><tr><td>BrowserPool</td><td><a href="#BrowserPool"><code>BrowserPool</code></a></td></tr><tr><td>PuppeteerPlugin</td><td><code>PuppeteerPlugin</code></td></tr><tr><td>PlaywrightPlugin</td><td><code>PlaywrightPlugin</code></td></tr></tbody></table>
<hr>
<a name="BrowserPool"></a>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpool">BrowserPool<a href="#browserpool" class="hash-link" aria-label="Direct link to BrowserPool" title="Direct link to BrowserPool">​</a></h3>
<p>The <code>BrowserPool</code> class is the most important class of the <code>@crawlee/browser-pool</code> module.
It manages opening and closing of browsers and their pages and its constructor
options allow easy configuration of the browsers&#x27; and pages&#x27; lifecycle.</p>
<p>The most important and useful constructor options are the various lifecycle hooks.
Those allow you to sequentially call a list of (asynchronous) functions at each
stage of the browser / page lifecycle.</p>
<p><strong>Example:</strong></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports"> </span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">preLaunchHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> launchContext</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// do something before a browser gets launched</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        launchContext</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">launchOptions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">headless</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">false</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postLaunchHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// manipulate the browser right after launch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">dir</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">browserController</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">browser</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">contexts</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">prePageCreateHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">pageId </span><span class="token operator" style="color:#393A34">===</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;my-page&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// make changes right before a specific page is created</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postPageCreateHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">page</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// update some or all new pages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">evaluate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// now all pages will have &#x27;foo&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token dom variable" style="color:#36acaa">window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">foo</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bar&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">prePageCloseHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">page</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// collect information just before a page closes</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">screenshot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">postPageCloseHooks</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">(</span><span class="token parameter">pageId</span><span class="token parameter punctuation" style="color:#393A34">,</span><span class="token parameter"> browserController</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token arrow operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// clean up or log after a job is done</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token console class-name">console</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">log</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Page closed: &#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> pageId</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<ul>
<li><a href="#BrowserPool">BrowserPool</a>
<ul>
<li><a href="#new_BrowserPool_new"><code>new BrowserPool(options)</code></a></li>
<li><a href="#BrowserPool+newPage"><code>.newPage(options)</code></a> ⇒ <code>Promise.&lt;Page&gt;</code></li>
<li><a href="#BrowserPool+newPageInNewBrowser"><code>.newPageInNewBrowser(options)</code></a> ⇒ <code>Promise.&lt;Page&gt;</code></li>
<li><a href="#BrowserPool+newPageWithEachPlugin"><code>.newPageWithEachPlugin(optionsList)</code></a> ⇒ <code>Promise.&lt;Array.&lt;Page&gt;&gt;</code></li>
<li><a href="#BrowserPool+getBrowserControllerByPage"><code>.getBrowserControllerByPage(page)</code></a> ⇒ <a href="#BrowserController"><code>BrowserController</code></a></li>
<li><a href="#BrowserPool+getPage"><code>.getPage(id)</code></a> ⇒ <code>Page</code></li>
<li><a href="#BrowserPool+getPageId"><code>.getPageId(page)</code></a> ⇒ <code>string</code></li>
<li><a href="#BrowserPool+retireBrowserController"><code>.retireBrowserController(browserController)</code></a></li>
<li><a href="#BrowserPool+retireBrowserByPage"><code>.retireBrowserByPage(page)</code></a></li>
<li><a href="#BrowserPool+retireAllBrowsers"><code>.retireAllBrowsers()</code></a></li>
<li><a href="#BrowserPool+closeAllBrowsers"><code>.closeAllBrowsers()</code></a> ⇒ <code>Promise.&lt;void&gt;</code></li>
<li><a href="#BrowserPool+destroy"><code>.destroy()</code></a> ⇒ <code>Promise.&lt;void&gt;</code></li>
</ul>
</li>
</ul>
<hr>
<a name="new_BrowserPool_new"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="new-browserpooloptions"><code>new BrowserPool(options)</code><a href="#new-browserpooloptions" class="hash-link" aria-label="Direct link to new-browserpooloptions" title="Direct link to new-browserpooloptions">​</a></h4>
<table><thead><tr><th>Param</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>options</td><td><code>object</code></td><td></td><td></td></tr><tr><td>options.browserPlugins</td><td><a href="#BrowserPlugin"><code>Array.&lt;BrowserPlugin&gt;</code></a></td><td></td><td>Browser plugins are wrappers of browser automation libraries that  allow <code>BrowserPool</code> to control browsers with those libraries.  <code>@crawlee/browser-pool</code> comes with a <code>PuppeteerPlugin</code> and a <code>PlaywrightPlugin</code>.</td></tr><tr><td>[options.maxOpenPagesPerBrowser]</td><td><code>number</code></td><td><code>20</code></td><td>Sets the maximum number of pages that can be open in a browser at the  same time. Once reached, a new browser will be launched to handle the excess.</td></tr><tr><td>[options.retireBrowserAfterPageCount]</td><td><code>number</code></td><td><code>100</code></td><td>Browsers tend to get bloated after processing a lot of pages. This option  configures the number of processed pages after which the browser will  automatically retire and close. A new browser will launch in its place.</td></tr><tr><td>[options.operationTimeoutSecs]</td><td><code>number</code></td><td><code>15</code></td><td>As we know from experience, async operations of the underlying libraries,  such as launching a browser or opening a new page, can get stuck.  To prevent <code>BrowserPool</code> from getting stuck, we add a timeout  to those operations and you can configure it with this option.</td></tr><tr><td>[options.closeInactiveBrowserAfterSecs]</td><td><code>number</code></td><td><code>300</code></td><td>Browsers normally close immediately after their last page is processed.  However, there could be situations where this does not happen. Browser Pool  makes sure all inactive browsers are closed regularly, to free resources.</td></tr><tr><td>[options.preLaunchHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Pre-launch hooks are executed just before a browser is launched and provide  a good opportunity to dynamically change the launch options.  The hooks are called with two arguments:  <code>pageId</code>: <code>string</code> and <code>launchContext</code>: <a href="#LaunchContext">LaunchContext</a></td></tr><tr><td>[options.postLaunchHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Post-launch hooks are executed as soon as a browser is launched.  The hooks are called with two arguments:  <code>pageId</code>: <code>string</code> and <code>browserController</code>: <a href="#BrowserController">BrowserController</a>  To guarantee order of execution before other hooks in the same browser,  the <a href="#BrowserController">BrowserController</a> methods cannot be used until the post-launch  hooks complete. If you attempt to call <code>await browserController.close()</code> from  a post-launch hook, it will deadlock the process. This API is subject to change.</td></tr><tr><td>[options.prePageCreateHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Pre-page-create hooks are executed just before a new page is created. They  are useful to make dynamic changes to the browser before opening a page.  The hooks are called with two arguments:  <code>pageId</code>: <code>string</code>, <code>browserController</code>: <a href="#BrowserController">BrowserController</a> and  <code>pageOptions</code>: `object</td></tr><tr><td>[options.postPageCreateHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Post-page-create hooks are called right after a new page is created  and all internal actions of Browser Pool are completed. This is the  place to make changes to a page that you would like to apply to all  pages. Such as injecting a JavaScript library into all pages.  The hooks are called with two arguments:  <code>page</code>: <code>Page</code> and <code>browserController</code>: <a href="#BrowserController">BrowserController</a></td></tr><tr><td>[options.prePageCloseHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Pre-page-close hooks give you the opportunity to make last second changes  in a page that&#x27;s about to be closed, such as saving a snapshot or updating  state.  The hooks are called with two arguments:  <code>page</code>: <code>Page</code> and <code>browserController</code>: <a href="#BrowserController">BrowserController</a></td></tr><tr><td>[options.postPageCloseHooks]</td><td><code>Array.&lt;function()&gt;</code></td><td></td><td>Post-page-close hooks allow you to do page related clean up.  The hooks are called with two arguments:  <code>pageId</code>: <code>string</code> and <code>browserController</code>: <a href="#BrowserController">BrowserController</a></td></tr><tr><td>[options.useFingerprints]</td><td><code>boolean</code></td><td><code>false</code></td><td>If true the Browser pool will automatically generate and inject fingerprints to browsers.</td></tr><tr><td>[options.fingerprintOptions]</td><td><code>FingerprintOptions </code></td><td></td><td>Fingerprints options that allows customizing the fingerprinting behavior.</td></tr><tr><td>[options.fingerprintOptions.fingerprintGeneratorOptions]</td><td></td><td></td><td>See the <a href="https://github.com/apify/fingerprint-generator#headergeneratoroptions" target="_blank" rel="noopener noreferrer">Fingerprint generator</a> documentation.</td></tr><tr><td>[options.fingerprintOptions.useFingerprintCache]</td><td><code>boolean</code></td><td><code>true</code></td><td>Fingerprints are automatically assigned to an instance of a Session or proxy URL. You can disable this behavior by setting this property to <code>false</code>.</td></tr><tr><td>[options.fingerprintOptions.fingerprintCacheSize]</td><td><code>number</code></td><td><code>10000</code></td><td>Maximum number of cached browser fingerprints.</td></tr></tbody></table>
<hr>
<a name="BrowserPool+newPage"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolnewpageoptions--promisepage"><code>browserPool.newPage(options)</code> ⇒ <code>Promise.&lt;Page&gt;</code><a href="#browserpoolnewpageoptions--promisepage" class="hash-link" aria-label="Direct link to browserpoolnewpageoptions--promisepage" title="Direct link to browserpoolnewpageoptions--promisepage">​</a></h4>
<p>Opens a new page in one of the running browsers or launches
a new browser and opens a page there, if no browsers are active,
or their page limits have been exceeded.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>options</td><td><code>object</code></td><td></td></tr><tr><td>[options.id]</td><td><code>string</code></td><td>Assign a custom ID to the page. If you don&#x27;t a random string ID  will be generated.</td></tr><tr><td>[options.pageOptions]</td><td><code>object</code></td><td>Some libraries (Playwright) allow you to open new pages with specific  options. Use this property to set those options.</td></tr><tr><td>[options.browserPlugin]</td><td><a href="#BrowserPlugin"><code>BrowserPlugin</code></a></td><td>Choose a plugin to open the page with. If none is provided,  one of the pool&#x27;s available plugins will be used.  It must be one of the plugins browser pool was created with.  If you wish to start a browser with a different configuration,  see the <code>newPageInNewBrowser</code> function.</td></tr></tbody></table>
<hr>
<a name="BrowserPool+newPageInNewBrowser"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolnewpageinnewbrowseroptions--promisepage"><code>browserPool.newPageInNewBrowser(options)</code> ⇒ <code>Promise.&lt;Page&gt;</code><a href="#browserpoolnewpageinnewbrowseroptions--promisepage" class="hash-link" aria-label="Direct link to browserpoolnewpageinnewbrowseroptions--promisepage" title="Direct link to browserpoolnewpageinnewbrowseroptions--promisepage">​</a></h4>
<p>Unlike <a href="#BrowserPool+newPage">newPage</a>, <code>newPageInNewBrowser</code> always launches a new
browser to open the page in. Use the <code>launchOptions</code> option to
configure the new browser.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>options</td><td><code>object</code></td><td></td></tr><tr><td>[options.id]</td><td><code>string</code></td><td>Assign a custom ID to the page. If you don&#x27;t a random string ID  will be generated.</td></tr><tr><td>[options.pageOptions]</td><td><code>object</code></td><td>Some libraries (Playwright) allow you to open new pages with specific  options. Use this property to set those options.</td></tr><tr><td>[options.launchOptions]</td><td><code>object</code></td><td>Options that will be used to launch the new browser.</td></tr><tr><td>[options.browserPlugin]</td><td><a href="#BrowserPlugin"><code>BrowserPlugin</code></a></td><td>Provide a plugin to launch the browser. If none is provided,  one of the pool&#x27;s available plugins will be used.  If you configured <code>BrowserPool</code> to rotate multiple libraries,  such as both Puppeteer and Playwright, you should always set  the <code>browserPlugin</code> when using the <code>launchOptions</code> option.  The plugin will not be added to the list of plugins used by  the pool. You can either use one of those, to launch a specific  browser, or provide a completely new configuration.</td></tr></tbody></table>
<hr>
<a name="BrowserPool+newPageWithEachPlugin"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolnewpagewitheachpluginoptionslist--promisearraypage"><code>browserPool.newPageWithEachPlugin(optionsList)</code> ⇒ <code>Promise.&lt;Array.&lt;Page&gt;&gt;</code><a href="#browserpoolnewpagewitheachpluginoptionslist--promisearraypage" class="hash-link" aria-label="Direct link to browserpoolnewpagewitheachpluginoptionslist--promisearraypage" title="Direct link to browserpoolnewpagewitheachpluginoptionslist--promisearraypage">​</a></h4>
<p>Opens new pages with all available plugins and returns an array
of pages in the same order as the plugins were provided to <code>BrowserPool</code>.
This is useful when you want to run a script in multiple environments
at the same time, typically in testing or website analysis.</p>
<p><strong>Example:</strong></p>
<div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">firefox</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">webkit</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PuppeteerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">puppeteer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> pages </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#00009f">await</span><span class="token plain"> browserPool</span><span class="token punctuation" style="color:#393A34">.</span><span class="token method function property-access" style="color:#d73a49">newPageWithEachPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">chromiumPage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> firefoxPage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> webkitPage</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> puppeteerPage</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> pages</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>optionsList</td><td><code>Array.&lt;object&gt;</code></td></tr></tbody></table>
<hr>
<a name="BrowserPool+getBrowserControllerByPage"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolgetbrowsercontrollerbypagepage--browsercontroller"><code>browserPool.getBrowserControllerByPage(page)</code> ⇒ <a href="#BrowserController"><code>BrowserController</code></a><a href="#browserpoolgetbrowsercontrollerbypagepage--browsercontroller" class="hash-link" aria-label="Direct link to browserpoolgetbrowsercontrollerbypagepage--browsercontroller" title="Direct link to browserpoolgetbrowsercontrollerbypagepage--browsercontroller">​</a></h4>
<p>Retrieves a <a href="#BrowserController">BrowserController</a> for a given page. This is useful
when you&#x27;re working only with pages and need to access the browser
manipulation functionality.</p>
<p>You could access the browser directly from the page,
but that would circumvent <code>BrowserPool</code> and most likely
cause weird things to happen, so please always use <code>BrowserController</code>
to control your browsers. The function returns <code>undefined</code> if the
browser is closed.</p>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>page</td><td><code>Page</code></td><td>Browser plugin page</td></tr></tbody></table>
<hr>
<a name="BrowserPool+getPage"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolgetpageid--page"><code>browserPool.getPage(id)</code> ⇒ <code>Page</code><a href="#browserpoolgetpageid--page" class="hash-link" aria-label="Direct link to browserpoolgetpageid--page" title="Direct link to browserpoolgetpageid--page">​</a></h4>
<p>If you provided a custom ID to one of your pages or saved the
randomly generated one, you can use this function to retrieve
the page. If the page is no longer open, the function will
return <code>undefined</code>.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td></tr></tbody></table>
<hr>
<a name="BrowserPool+getPageId"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolgetpageidpage--string"><code>browserPool.getPageId(page)</code> ⇒ <code>string</code><a href="#browserpoolgetpageidpage--string" class="hash-link" aria-label="Direct link to browserpoolgetpageidpage--string" title="Direct link to browserpoolgetpageidpage--string">​</a></h4>
<p>Page IDs are used throughout <code>BrowserPool</code> as a method of linking
events. You can use a page ID to track the full lifecycle of the page.
It is created even before a browser is launched and stays with the page
until it&#x27;s closed.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>page</td><td><code>Page</code></td></tr></tbody></table>
<hr>
<a name="BrowserPool+retireBrowserController"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolretirebrowsercontrollerbrowsercontroller"><code>browserPool.retireBrowserController(browserController)</code><a href="#browserpoolretirebrowsercontrollerbrowsercontroller" class="hash-link" aria-label="Direct link to browserpoolretirebrowsercontrollerbrowsercontroller" title="Direct link to browserpoolretirebrowsercontrollerbrowsercontroller">​</a></h4>
<p>Removes a browser controller from the pool. The underlying
browser will be closed after all its pages are closed.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>browserController</td><td><a href="#BrowserController"><code>BrowserController</code></a></td></tr></tbody></table>
<hr>
<a name="BrowserPool+retireBrowserByPage"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolretirebrowserbypagepage"><code>browserPool.retireBrowserByPage(page)</code><a href="#browserpoolretirebrowserbypagepage" class="hash-link" aria-label="Direct link to browserpoolretirebrowserbypagepage" title="Direct link to browserpoolretirebrowserbypagepage">​</a></h4>
<p>Removes a browser from the pool. It will be
closed after all its pages are closed.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>page</td><td><code>Page</code></td></tr></tbody></table>
<hr>
<a name="BrowserPool+retireAllBrowsers"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolretireallbrowsers"><code>browserPool.retireAllBrowsers()</code><a href="#browserpoolretireallbrowsers" class="hash-link" aria-label="Direct link to browserpoolretireallbrowsers" title="Direct link to browserpoolretireallbrowsers">​</a></h4>
<p>Removes all active browsers from the pool. The browsers will be
closed after all their pages are closed.</p>
<hr>
<a name="BrowserPool+closeAllBrowsers"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpoolcloseallbrowsers--promisevoid"><code>browserPool.closeAllBrowsers()</code> ⇒ <code>Promise.&lt;void&gt;</code><a href="#browserpoolcloseallbrowsers--promisevoid" class="hash-link" aria-label="Direct link to browserpoolcloseallbrowsers--promisevoid" title="Direct link to browserpoolcloseallbrowsers--promisevoid">​</a></h4>
<p>Closes all managed browsers without waiting for pages to close.</p>
<hr>
<a name="BrowserPool+destroy"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserpooldestroy--promisevoid"><code>browserPool.destroy()</code> ⇒ <code>Promise.&lt;void&gt;</code><a href="#browserpooldestroy--promisevoid" class="hash-link" aria-label="Direct link to browserpooldestroy--promisevoid" title="Direct link to browserpooldestroy--promisevoid">​</a></h4>
<p>Closes all managed browsers and tears down the pool.</p>
<hr>
<a name="BrowserController"></a>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browsercontroller">BrowserController<a href="#browsercontroller" class="hash-link" aria-label="Direct link to BrowserController" title="Direct link to BrowserController">​</a></h3>
<p>The <code>BrowserController</code> serves two purposes. First, it is the base class that
specialized controllers like <code>PuppeteerController</code> or <code>PlaywrightController</code>
extend. Second, it defines the public interface of the specialized classes
which provide only private methods. Therefore, we do not keep documentation
for the specialized classes, because it&#x27;s the same for all of them.</p>
<p><strong>Properties</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td></td></tr><tr><td>browserPlugin</td><td><a href="#BrowserPlugin"><code>BrowserPlugin</code></a></td><td>The <code>BrowserPlugin</code> instance used to launch the browser.</td></tr><tr><td>browser</td><td><code>Browser</code></td><td>Browser representation of the underlying automation library.</td></tr><tr><td>launchContext</td><td><a href="#LaunchContext"><code>LaunchContext</code></a></td><td>The configuration the browser was launched with.</td></tr></tbody></table>
<ul>
<li><a href="#BrowserController">BrowserController</a>
<ul>
<li><a href="#BrowserController+close"><code>.close()</code></a> ⇒ <code>Promise.&lt;void&gt;</code></li>
<li><a href="#BrowserController+kill"><code>.kill()</code></a> ⇒ <code>Promise.&lt;void&gt;</code></li>
<li><a href="#BrowserController+setCookies"><code>.setCookies(page, cookies)</code></a> ⇒ <code>Promise.&lt;void&gt;</code></li>
<li><a href="#BrowserController+getCookies"><code>.getCookies(page)</code></a> ⇒ <code>Promise.&lt;Array.&lt;object&gt;&gt;</code></li>
</ul>
</li>
</ul>
<hr>
<a name="BrowserController+close"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browsercontrollerclose--promisevoid"><code>browserController.close()</code> ⇒ <code>Promise.&lt;void&gt;</code><a href="#browsercontrollerclose--promisevoid" class="hash-link" aria-label="Direct link to browsercontrollerclose--promisevoid" title="Direct link to browsercontrollerclose--promisevoid">​</a></h4>
<p>Gracefully closes the browser and makes sure
there will be no lingering browser processes.</p>
<p>Emits &#x27;browserClosed&#x27; event.</p>
<hr>
<a name="BrowserController+kill"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browsercontrollerkill--promisevoid"><code>browserController.kill()</code> ⇒ <code>Promise.&lt;void&gt;</code><a href="#browsercontrollerkill--promisevoid" class="hash-link" aria-label="Direct link to browsercontrollerkill--promisevoid" title="Direct link to browsercontrollerkill--promisevoid">​</a></h4>
<p>Immediately kills the browser process.</p>
<p>Emits &#x27;browserClosed&#x27; event.</p>
<hr>
<a name="BrowserController+setCookies"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browsercontrollersetcookiespage-cookies--promisevoid"><code>browserController.setCookies(page, cookies)</code> ⇒ <code>Promise.&lt;void&gt;</code><a href="#browsercontrollersetcookiespage-cookies--promisevoid" class="hash-link" aria-label="Direct link to browsercontrollersetcookiespage-cookies--promisevoid" title="Direct link to browsercontrollersetcookiespage-cookies--promisevoid">​</a></h4>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>page</td><td><code>Object</code></td></tr><tr><td>cookies</td><td><code>Array.&lt;object&gt;</code></td></tr></tbody></table>
<hr>
<a name="BrowserController+getCookies"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browsercontrollergetcookiespage--promisearrayobject"><code>browserController.getCookies(page)</code> ⇒ <code>Promise.&lt;Array.&lt;object&gt;&gt;</code><a href="#browsercontrollergetcookiespage--promisearrayobject" class="hash-link" aria-label="Direct link to browsercontrollergetcookiespage--promisearrayobject" title="Direct link to browsercontrollergetcookiespage--promisearrayobject">​</a></h4>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>page</td><td><code>Object</code></td></tr></tbody></table>
<hr>
<a name="BrowserPlugin"></a>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="browserplugin">BrowserPlugin<a href="#browserplugin" class="hash-link" aria-label="Direct link to BrowserPlugin" title="Direct link to BrowserPlugin">​</a></h3>
<p>The <code>BrowserPlugin</code> serves two purposes. First, it is the base class that
specialized controllers like <code>PuppeteerPlugin</code> or <code>PlaywrightPlugin</code> extend.
Second, it allows the user to configure the automation libraries and
feed them to <a href="#BrowserPool">BrowserPool</a> for use.</p>
<p><strong>Properties</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Default</th><th>Description</th></tr></thead><tbody><tr><td>[useIncognitoPages]</td><td><code>boolean</code></td><td><code>false</code></td><td>By default pages share the same browser context.  If set to true each page uses its own context that is destroyed once the page is closed or crashes.</td></tr><tr><td>[userDataDir]</td><td><code>object</code></td><td></td><td>Path to a User Data Directory, which stores browser session data like cookies and local storage.</td></tr></tbody></table>
<hr>
<a name="new_BrowserPlugin_new"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="new-browserpluginlibrary-options"><code>new BrowserPlugin(library, [options])</code><a href="#new-browserpluginlibrary-options" class="hash-link" aria-label="Direct link to new-browserpluginlibrary-options" title="Direct link to new-browserpluginlibrary-options">​</a></h4>
<table><thead><tr><th>Param</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>library</td><td><code>object</code></td><td>Each plugin expects an instance of the object with the <code>.launch()</code> property.  For Puppeteer, it is the <code>puppeteer</code> module itself, whereas for Playwright  it is one of the browser types, such as <code>puppeteer.chromium</code>.  <code>BrowserPlugin</code> does not include the library. You can choose any version  or fork of the library. It also keeps <code>@crawlee/browser-pool</code> installation small.</td></tr><tr><td>[options]</td><td><code>object</code></td><td></td></tr><tr><td>[options.launchOptions]</td><td><code>object</code></td><td>Options that will be passed down to the automation library. E.g.  <code>puppeteer.launch(launchOptions);</code>. This is a good place to set  options that you want to apply as defaults. To dynamically override  those options per-browser, see the <code>preLaunchHooks</code> of <a href="#BrowserPool">BrowserPool</a>.</td></tr><tr><td>[options.proxyUrl]</td><td><code>string</code></td><td>Automation libraries configure proxies differently. This helper allows you  to set a proxy URL without worrying about specific implementations.  It also allows you use an authenticated proxy without extra code.</td></tr></tbody></table>
<hr>
<a name="LaunchContext"></a>
<h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="launchcontext">LaunchContext<a href="#launchcontext" class="hash-link" aria-label="Direct link to LaunchContext" title="Direct link to LaunchContext">​</a></h3>
<p><code>LaunchContext</code> holds information about the launched browser. It&#x27;s useful
to retrieve the <code>launchOptions</code>, the proxy the browser was launched with
or any other information user chose to add to the <code>LaunchContext</code> by calling
its <code>extend</code> function. This is very useful to keep track of browser-scoped
values, such as session IDs.</p>
<p><strong>Properties</strong></p>
<table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>id</td><td><code>string</code></td><td>To make identification of <code>LaunchContext</code> easier, <code>BrowserPool</code> assigns  the <code>LaunchContext</code> an <code>id</code> that&#x27;s equal to the <code>id</code> of the page that  triggered the browser launch. This is useful, because many pages share  a single launch context (single browser).</td></tr><tr><td>browserPlugin</td><td><a href="#BrowserPlugin"><code>BrowserPlugin</code></a></td><td>The <code>BrowserPlugin</code> instance used to launch the browser.</td></tr><tr><td>launchOptions</td><td><code>object</code></td><td>The actual options the browser was launched with, after changes.  Those changes would be typically made in pre-launch hooks.</td></tr><tr><td>[useIncognitoPages]</td><td><code>boolean</code></td><td>By default pages share the same browser context.  If set to true each page uses its own context that is destroyed once the page is closed or crashes.</td></tr><tr><td>[userDataDir]</td><td><code>object</code></td><td>Path to a User Data Directory, which stores browser session data like cookies and local storage.</td></tr></tbody></table>
<ul>
<li><a href="#LaunchContext">LaunchContext</a>
<ul>
<li><a href="#LaunchContext+proxyUrl"><code>.proxyUrl</code></a></li>
<li><a href="#LaunchContext+proxyUrl"><code>.proxyUrl</code></a> ⇒ <code>string</code></li>
<li><a href="#LaunchContext+extend"><code>.extend(fields)</code></a></li>
</ul>
</li>
</ul>
<hr>
<a name="LaunchContext+proxyUrl"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="launchcontextproxyurl"><code>launchContext.proxyUrl</code><a href="#launchcontextproxyurl" class="hash-link" aria-label="Direct link to launchcontextproxyurl" title="Direct link to launchcontextproxyurl">​</a></h4>
<p>Sets a proxy URL for the browser.
Use <code>undefined</code> to unset existing proxy URL.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>url</td><td><code>string</code></td></tr></tbody></table>
<hr>
<a name="LaunchContext+proxyUrl"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="launchcontextproxyurl--string"><code>launchContext.proxyUrl</code> ⇒ <code>string</code><a href="#launchcontextproxyurl--string" class="hash-link" aria-label="Direct link to launchcontextproxyurl--string" title="Direct link to launchcontextproxyurl--string">​</a></h4>
<p>Returns the proxy URL of the browser.</p>
<hr>
<a name="LaunchContext+extend"></a>
<h4 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="launchcontextextendfields"><code>launchContext.extend(fields)</code><a href="#launchcontextextendfields" class="hash-link" aria-label="Direct link to launchcontextextendfields" title="Direct link to launchcontextextendfields">​</a></h4>
<p>Extend the launch context with any extra fields.
This is useful to keep state information relevant
to the browser being launched. It ensures that
no internal fields are overridden and should be
used instead of property assignment.</p>
<table><thead><tr><th>Param</th><th>Type</th></tr></thead><tbody><tr><td>fields</td><td><code>object</code></td></tr></tbody></table>
<hr></section><div class="tsd-comment tsd-typography tsd-comment-root"><div class="lead"><div class="tsd-markdown markdown"><p>The <code>browser-pool</code> module exports three constructors. One for <code>BrowserPool</code>
itself and two for the included Puppeteer and Playwright plugins.</p>

<p><strong>Example:</strong></p><div class="language-js codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-js codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports punctuation" style="color:#393A34">{</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports"> </span><span class="token imports maybe-class-name">BrowserPool</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports"> </span><span class="token imports maybe-class-name">PuppeteerPlugin</span><span class="token imports punctuation" style="color:#393A34">,</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports"> </span><span class="token imports maybe-class-name">PlaywrightPlugin</span><span class="token imports"></span><br></span><span class="token-line" style="color:#393A34"><span class="token imports"></span><span class="token imports punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@crawlee/browser-pool&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">puppeteer</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;puppeteer&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword module" style="color:#00009f">import</span><span class="token plain"> </span><span class="token imports">playwright</span><span class="token plain"> </span><span class="token keyword module" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browserPool </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">BrowserPool</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token literal-property property" style="color:#36acaa">browserPlugins</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PuppeteerPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">puppeteer</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">PlaywrightPlugin</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">playwright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token property-access">chromium</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><section class="tsd-panel-group tsd-index-group"><h2>Index <a class="tsd-anchor" href="#Index"><span class="tsd-anchor-id" id="Index"></span><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section"><h3 class="tsd-panel-header">Classes</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/BrowserController"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>BrowserController</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/BrowserPlugin"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>BrowserPlugin</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/BrowserPool"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>BrowserPool</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/LaunchContext"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>LaunchContext</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/PlaywrightBrowser"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>PlaywrightBrowser</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/PlaywrightController"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>PlaywrightController</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/PlaywrightPlugin"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>PlaywrightPlugin</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/PuppeteerController"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>PuppeteerController</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/class/PuppeteerPlugin"><i class="codicon codicon-symbol-class" style="color:var(--ifm-color-warning)"></i>PuppeteerPlugin</a></li></ul></div></section><section class="tsd-index-section"><h3 class="tsd-panel-header">Enumerations</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/enum/BROWSER_CONTROLLER_EVENTS"><i class="codicon codicon-symbol-enum" style="color:var(--ifm-color-danger)"></i>BROWSER_CONTROLLER_EVENTS</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/enum/BROWSER_POOL_EVENTS"><i class="codicon codicon-symbol-enum" style="color:var(--ifm-color-danger)"></i>BROWSER_POOL_EVENTS</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/enum/BrowserName"><i class="codicon codicon-symbol-enum" style="color:var(--ifm-color-danger)"></i>BrowserName</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/enum/DeviceCategory"><i class="codicon codicon-symbol-enum" style="color:var(--ifm-color-danger)"></i>DeviceCategory</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/enum/OperatingSystemsName"><i class="codicon codicon-symbol-enum" style="color:var(--ifm-color-danger)"></i>OperatingSystemsName</a></li></ul></div></section><section class="tsd-index-section"><h3 class="tsd-panel-header">Interfaces</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserControllerEvents"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserControllerEvents</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPluginOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPluginOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPoolEvents"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPoolEvents</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPoolHooks"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPoolHooks</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPoolNewPageInNewBrowserOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPoolNewPageInNewBrowserOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPoolNewPageOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPoolNewPageOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserPoolOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserPoolOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/BrowserSpecification"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>BrowserSpecification</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/CommonLibrary"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>CommonLibrary</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/CreateLaunchContextOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>CreateLaunchContextOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/FingerprintGenerator"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>FingerprintGenerator</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/FingerprintGeneratorOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>FingerprintGeneratorOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/FingerprintOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>FingerprintOptions</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/GetFingerprintReturn"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>GetFingerprintReturn</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool/interface/LaunchContextOptions"><i class="codicon codicon-symbol-interface" style="color:var(--ifm-color-danger)"></i>LaunchContextOptions</a></li></ul></div></section><section class="tsd-index-section"><h3 class="tsd-panel-header">Type Aliases</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#InferBrowserPluginArray"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>InferBrowserPluginArray</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PostLaunchHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostLaunchHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PostPageCloseHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostPageCloseHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PostPageCreateHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostPageCreateHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PreLaunchHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PreLaunchHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PrePageCloseHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PrePageCloseHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#PrePageCreateHook"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PrePageCreateHook</a></li><li><a class="tsd-kind-icon" href="/api/3.4/browser-pool#UnwrapPromise"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>UnwrapPromise</a></li></ul></div></section></div></section></section><section class="tsd-panel-group tsd-member-group"><h2>Type Aliases<!-- --> <a class="tsd-anchor" href="#Type Aliases"><span class="tsd-anchor-id" id="Type Aliases"></span><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#InferBrowserPluginArray"><span class="tsd-anchor-id" id="InferBrowserPluginArray"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/utils.ts#L14" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>InferBrowserPluginArray</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>InferBrowserPluginArray<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>Input<span class="tsd-signature-symbol">, </span>Result<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-type">Input</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-symbol">readonly<!-- --> </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">infer </span> <!-- -->FirstValue<span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">...</span><span class="tsd-signature-symbol">infer </span> <!-- -->Rest<span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">infer </span> <!-- -->FirstValue<span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">...</span><span class="tsd-signature-symbol">infer </span> <!-- -->Rest<span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">FirstValue</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-type">PlaywrightPlugin</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">InferBrowserPluginArray</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Rest</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><span class="tsd-signature-type">Result</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">PlaywrightPlugin</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">FirstValue</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-type">PuppeteerPlugin</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">InferBrowserPluginArray</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">Rest</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">...</span><span class="tsd-signature-type">Result</span><span class="tsd-signature-symbol">, </span><span class="tsd-signature-type">PuppeteerPlugin</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">never</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">Input</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">Result</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">Input</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-symbol">infer </span> <!-- -->U<span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">U</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">PuppeteerPlugin</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">PlaywrightPlugin</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">U</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">never</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">Result</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>Input</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-symbol">readonly<!-- --> </span><span class="tsd-signature-type">unknown</span><span class="tsd-signature-symbol">[]</span></li><li><strong>Result</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserPlugin</span><span class="tsd-signature-symbol">[]</span><span class="tsd-signature-symbol"> = <span class="tsd-signature-symbol">[</span><span class="tsd-signature-symbol">]</span></span></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PostLaunchHook"><span class="tsd-anchor-id" id="PostLaunchHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L117" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PostLaunchHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostLaunchHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>BC<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>BC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserController</span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Post-launch hooks are executed as soon as a browser is launched.
The hooks are called with two arguments:
<code>pageId</code>: <code>string</code> and <code>browserController</code>: <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a>
To guarantee order of execution before other hooks in the same browser,
the <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a> methods cannot be used until the post-launch
hooks complete. If you attempt to call <code>await browserController.close()</code> from
a post-launch hook, it will deadlock the process. This API is subject to change.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>pageId: <span class="tsd-signature-type">string</span></h5></li><li><h5>browserController: <span class="tsd-signature-type">BC</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PostPageCloseHook"><span class="tsd-anchor-id" id="PostPageCloseHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L163" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PostPageCloseHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostPageCloseHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>BC<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>BC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserController</span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Post-page-close hooks allow you to do page related clean up.
The hooks are called with two arguments:
<code>pageId</code>: <code>string</code> and <code>browserController</code>: <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a></p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>pageId: <span class="tsd-signature-type">string</span></h5></li><li><h5>browserController: <span class="tsd-signature-type">BC</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PostPageCreateHook"><span class="tsd-anchor-id" id="PostPageCreateHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L141" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PostPageCreateHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PostPageCreateHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>BC<span class="tsd-signature-symbol">, </span>Page<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>page<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Page</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>BC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserController</span></li><li><strong>Page</strong><span class="tsd-signature-symbol"> = <span class="tsd-signature-type">UnwrapPromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ReturnType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">BC</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">newPage</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>page<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Page</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Post-page-create hooks are called right after a new page is created
and all internal actions of Browser Pool are completed. This is the
place to make changes to a page that you would like to apply to all
pages. Such as injecting a JavaScript library into all pages.
The hooks are called with two arguments:
<code>page</code>: <code>Page</code> and <code>browserController</code>: <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a></p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>page: <span class="tsd-signature-type">Page</span></h5></li><li><h5>browserController: <span class="tsd-signature-type">BC</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PreLaunchHook"><span class="tsd-anchor-id" id="PreLaunchHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L106" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PreLaunchHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PreLaunchHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>LC<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>launchContext<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>LC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">LaunchContext</span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>launchContext<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">LC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Pre-launch hooks are executed just before a browser is launched and provide
a good opportunity to dynamically change the launch options.
The hooks are called with two arguments:
<code>pageId</code>: <code>string</code> and <code>launchContext</code>: <a href="/api/3.4/browser-pool/class/LaunchContext">LaunchContext</a></p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>pageId: <span class="tsd-signature-type">string</span></h5></li><li><h5>launchContext: <span class="tsd-signature-type">LC</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PrePageCloseHook"><span class="tsd-anchor-id" id="PrePageCloseHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L153" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PrePageCloseHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PrePageCloseHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>BC<span class="tsd-signature-symbol">, </span>Page<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>page<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Page</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>BC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserController</span></li><li><strong>Page</strong><span class="tsd-signature-symbol"> = <span class="tsd-signature-type">UnwrapPromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">ReturnType</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">BC</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">newPage</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">&gt;</span></span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>page<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">Page</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Pre-page-close hooks give you the opportunity to make last second changes
in a page that&#x27;s about to be closed, such as saving a snapshot or updating
state.
The hooks are called with two arguments:
<code>page</code>: <code>Page</code> and <code>browserController</code>: <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a></p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>page: <span class="tsd-signature-type">Page</span></h5></li><li><h5>browserController: <span class="tsd-signature-type">BC</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#PrePageCreateHook"><span class="tsd-anchor-id" id="PrePageCreateHook"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/browser-pool.ts#L128" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>PrePageCreateHook</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>PrePageCreateHook<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>BC<span class="tsd-signature-symbol">, </span>PO<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">, </span><span>pageOptions<span class="tsd-signature-symbol">?<!-- -->: </span><span class="tsd-signature-type">PO</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol"> =&gt; </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>BC</strong><span class="tsd-signature-symbol">:</span> <span class="tsd-signature-type">BrowserController</span></li><li><strong>PO</strong><span class="tsd-signature-symbol"> = <span class="tsd-signature-type">Parameters</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">BC</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">newPage</span><span class="tsd-signature-symbol">]</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol">[</span><span class="tsd-signature-type">0</span><span class="tsd-signature-symbol">]</span></span></li></ul></div><div class="tsd-type-declaration"><h4>Type declaration</h4><ul class="tsd-parameters"><li class="tsd-parameter-signature"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i><span class="tsd-signature-symbol">(</span><span>pageId<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">string</span></span><span class="tsd-signature-symbol">, </span><span>browserController<span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">BC</span></span><span class="tsd-signature-symbol">, </span><span>pageOptions<span class="tsd-signature-symbol">?<!-- -->: </span><span class="tsd-signature-type">PO</span></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></li></ul><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Pre-page-create hooks are executed just before a new page is created. They
are useful to make dynamic changes to the browser before opening a page.
The hooks are called with three arguments:
<code>pageId</code>: <code>string</code>, <code>browserController</code>: <a href="/api/3.4/browser-pool/class/BrowserController">BrowserController</a> and
<code>pageOptions</code>: <code>object|undefined</code> - This only works if the underlying <code>BrowserController</code> supports new page options.
So far, new page options are only supported by <code>PlaywrightController</code> in incognito contexts.
If the page options are not supported by <code>BrowserController</code> the <code>pageOptions</code> argument is <code>undefined</code>.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5>pageId: <span class="tsd-signature-type">string</span></h5></li><li><h5>browserController: <span class="tsd-signature-type">BC</span></h5></li><li><h5><span class="tsd-flag tsd-flag-optional">optional</span>pageOptions: <span class="tsd-signature-type">PO</span></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type">void</span><span class="tsd-signature-symbol"> | </span><span class="tsd-signature-type">Promise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">void</span><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></li></ul></div></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="#UnwrapPromise"><span class="tsd-anchor-id" id="UnwrapPromise"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/apify/crawlee/blob/78bb2a88/packages/browser-pool/src/utils.ts#L4" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a>UnwrapPromise</h3><div class="tsd-panel-content"><div class="tsd-signature tsd-kind-icon"><i class="codicon codicon-references" style="color:var(--ifm-color-danger)"></i>UnwrapPromise<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>T<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">: </span> <span class="tsd-signature-type">T</span><span class="tsd-signature-symbol"> extends </span><span class="tsd-signature-type">PromiseLike</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-symbol">infer </span> <!-- -->R<span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> ? </span><span class="tsd-signature-type">UnwrapPromise</span><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type">R</span><span class="tsd-signature-symbol">&gt;</span><span class="tsd-signature-symbol"> : </span><span class="tsd-signature-type">T</span></div></div><div class="tsd-panel-content"><div class="tds-type-parameters"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>T</strong></li></ul></div></div></section></section></div><footer class="tsd-footer">Powered by<!-- --> <a href="https://github.com/milesj/docusaurus-plugin-typedoc-api">docusaurus-plugin-typedoc-api</a> <!-- -->and <a href="https://typedoc.org/">TypeDoc</a></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#InferBrowserPluginArray" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> InferBrowserPluginArray</a></li><li><a href="#PostLaunchHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PostLaunchHook</a></li><li><a href="#PostPageCloseHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PostPageCloseHook</a></li><li><a href="#PostPageCreateHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PostPageCreateHook</a></li><li><a href="#PreLaunchHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PreLaunchHook</a></li><li><a href="#PrePageCloseHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PrePageCloseHook</a></li><li><a href="#PrePageCreateHook" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> PrePageCreateHook</a></li><li><a href="#UnwrapPromise" class="table-of-contents__link toc-highlight"><i class="codicon codicon-references" style="color:var(--ifm-color-danger);"></i> UnwrapPromise</a></li></ul></div></div></div></div></main></div></div></div></div><footer class="footer_J6tW light"><div class="container padding-horiz--lg"><div class="row"><div class="col col--5"><div class="row"><div class="col col--6"><div class="footerTitle_tbhc">Docs</div><ul class="clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/guides">Guides</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/examples">Examples</a></li><li class="footer__item"><a class="footer__link-item" href="/api/core">API reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/upgrading/upgrading-to-v3">Upgrading to v3</a></li></ul></div><div class="col col--6"><div class="footerTitle_tbhc">Community</div><ul class="clean-list"><li class="footer__item"><a href="https://discord.com/invite/jyEM2PRvMU" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/crawlee" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/apify" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div><div class="col col--7"><div class="row"><div class="col col--3 col--offset-9"><div class="footerTitle_tbhc">More</div><ul class="clean-list"><li class="footer__item"><a href="https://apify.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Apify Platform<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://docusaurus.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Docusaurus<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/apify/crawlee" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></div><div class="row padding-vert--md padding-top--lg"><div class="col padding-vert--md col--6"><div class="freeAndOpenSource_V9mY"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" class="alignMiddle_ZeUO"><path d="m23.85 21.426-1.78-2.91a.48.48 0 0 1-.07-.26v-4.13c0-1.78-1.71-3.07-3.52-4.45a.511.511 0 0 1-.2-.36.53.53 0 0 1 .14-.4 4.93 4.93 0 0 0 1.07-5.88 5.08 5.08 0 0 0-8.08-1.29l-1.06 1a.48.48 0 0 1-.67 0l-1.06-1a5.09 5.09 0 0 0-8.09 1.29 5 5 0 0 0 1 5.76l7.76 8a1.059 1.059 0 0 0 .77.32 1.08 1.08 0 0 0 .78-.32.64.64 0 0 0 .14-.66 3.79 3.79 0 0 1-.2-1.38 3.749 3.749 0 0 1 4.92-3.37.49.49 0 0 0 .51-.13l.15-.15a.5.5 0 0 1 .66-.05l.3.23c1.22.92 2.73 2.07 2.73 2.85v4.55a1 1 0 0 0 .15.53l2 3.26a1 1 0 1 0 1.7-1l-.05-.05Z" fill="#B3B8D2"></path><path d="M16.09 13.196a2.37 2.37 0 0 0-3.19 0 2.38 2.38 0 0 0-.18 3.39l1.63 1.77a.55.55 0 0 1 .13.34v1c0 1.3 1.52 2.59 2 2.95a.91.91 0 0 0 .54.19.88.88 0 0 0 .54-1.57 3.889 3.889 0 0 1-1.31-1.57v-1.57a.86.86 0 0 0-.23-.59l-2-2.18a.58.58 0 0 1-.17-.45.66.66 0 0 1 .21-.44.64.64 0 0 1 .85 0l2 1.86a.874.874 0 1 0 1.19-1.28l-2.01-1.85Z" fill="#B3B8D2"></path></svg><span class="alignMiddle_ZeUO">Crawlee is free and open source</span></div></div><div class="col padding-vert--md col--6 text--right"><span class="builtBy_TvsZ"><span class="alignMiddle_ZeUO">Built by</span><a href="https://apify.com"><svg width="91" height="25" viewBox="0 0 91 25" fill="none" xmlns="http://www.w3.org/2000/svg" class="alignMiddle_ZeUO"><path d="M3.135 2.85A3.409 3.409 0 0 0 .227 6.699l2.016 14.398 8.483-19.304-7.59 1.059Z" fill="#97D700"></path><path d="M23.604 14.847 22.811 3.78a3.414 3.414 0 0 0-3.64-3.154c-.077 0-.153.014-.228.025l-3.274.452 7.192 16.124c.54-.67.805-1.52.743-2.379Z" fill="#71C5E8"></path><path d="M5.336 24.595c.58.066 1.169-.02 1.706-.248l12.35-5.211L13.514 5.97 5.336 24.595Z" fill="#FF9013"></path><path d="M33.83 5.304h3.903l5.448 14.623h-3.494l-1.022-2.994h-5.877l-1.025 2.994h-3.384L33.83 5.304Zm-.177 9.032h4.14l-2-5.994h-.086l-2.054 5.994ZM58.842 5.304h3.302v14.623h-3.302V5.304ZM64.634 5.304h10.71v2.7h-7.4v4.101h5.962v2.632h-5.963v5.186h-3.309V5.303ZM82.116 14.38l-5.498-9.076h3.748l3.428 6.016h.085l3.599-6.016H91l-5.56 9.054v5.569h-3.324v-5.548ZM51.75 5.304h-7.292v14.623h3.3v-4.634h3.993a4.995 4.995 0 1 0 0-9.99Zm-.364 7.417h-3.628V7.875h3.627a2.423 2.423 0 0 1 0 4.846Z" fill="#fff"></path></svg></a></span></div></div></div></footer></div>
<!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-5P7MCS7" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) --></body>
</html>